<UserControl x:Class="Digihail.Controls.LegendMultipleLinesControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             mc:Ignorable="d" 
             d:DesignHeight="300" d:DesignWidth="300"
             x:Name="root"
             >
    <Grid>
        <ItemsControl ItemsSource="{Binding ElementName=root,Path=DataSource}">
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Grid Margin="0,0,20,35">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"></RowDefinition>
                            <RowDefinition></RowDefinition>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"></ColumnDefinition>
                            <ColumnDefinition Width="*"></ColumnDefinition>
                        </Grid.ColumnDefinitions>
                        <Ellipse x:Name="ellipse" Stroke="#1D1D1D" Fill="{Binding Brush}" Height="12" Width="12" VerticalAlignment="Center">
                            <Ellipse.Effect>
                                <DropShadowEffect BlurRadius="7" Color="#000000" Opacity="0.3" Direction="0" ShadowDepth="1"></DropShadowEffect>
                            </Ellipse.Effect>
                        </Ellipse>
                        <TextBlock Grid.Column="1" Text="{Binding Name}" FontFamily="微软雅黑" Foreground="{Binding ElementName=root,Path=FontColor}" FontSize="16" Margin="10,0,2,0" VerticalAlignment="Center"></TextBlock>
                        <TextBlock Grid.Row="1" Grid.Column="1" Margin="5,0,0,0" FontWeight="Light" Foreground="{Binding ElementName=root,Path=FontColor}" FontSize="14" VerticalAlignment="Center" HorizontalAlignment="Left">
                            <Run Text="{Binding Number}" FontSize="56"></Run>
                            <Run Text="层"></Run>
                        </TextBlock>
                    </Grid>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <WrapPanel Orientation="{Binding ElementName=root,Path=Orientation}"></WrapPanel>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
        </ItemsControl>
    </Grid>
</UserControl>
